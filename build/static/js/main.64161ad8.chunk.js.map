{"version":3,"sources":["components/Entry.js","components/PersonForm.js","components/Filter.js","services/persons.js","components/Snackbar.js","App.js","index.js"],"names":["Entries","props","persons","filter","onDelete","console","log","entries","person","name","toLowerCase","includes","map","key","Entry","styles","container","marginTop","entry","button","backgroundColor","border","color","paddingLeft","paddingRight","paddingTop","paddingBottom","marginRight","style","onClick","number","PersonForm","useState","setName","setNumber","value","onChange","event","target","type","preventDefault","handleForm","Filter","setFilter","marginBottom","filterChangedHandler","baseUrl","waitForResponse","req","then","res","data","axios","get","post","put","id","delete","Snackbar","label","containerColor","width","verticalAlign","lineHeight","App","setPersons","message","setMessage","useEffect","Persons","displayMessage","text","setTimeout","marginLeft","newPerson","foundPerson","find","window","confirm","updatedPerson","catch","error","concat","newFilter","confirmation","p","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.64161ad8.chunk.js","sourcesContent":["import React from 'react';\n\nexport const Entries = (props) => {\n    const {persons} = props;\n    const {filter} = props;\n    const {onDelete} = props;\n\n    console.log(\"Handling entry data: \", persons)\n    const entries = persons\n      .filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n      .map(person => <Entry key={person.name} person={person} onDelete={onDelete}/>)\n    return (\n      <div>\n        {entries}\n      </div>\n    )\n}\n\nexport const Entry = ({person, onDelete}) => {\n  const styles = {\n    container: {\n      marginTop: 5,\n    },\n    entry: {\n      \n    },\n    button: {\n      backgroundColor: 'transparent',\n      border: 'none',\n      color: 'red',\n      paddingLeft: 10,\n      paddingRight: 10,\n      paddingTop: 5,\n      paddingBottom: 5,\n      marginRight: 5,\n    }\n  }\n  return (\n    <div style={styles.container}>\n      <div><button style={styles.button} onClick={() => onDelete(person)}>X</button>{person.name} {person.number}</div>\n    </div>)\n}\n\nexport default Entry","import React, { useState } from 'react'\n\nconst PersonForm = (props) => {\n    const [ name, setName ] = useState('')\n    const [ number, setNumber ] = useState('')\n  \n    const handleNameChange = (event) => {\n      setName(event.target.value)\n    }\n  \n    const handleNumberChange = (event) => {\n      setNumber(event.target.value)\n    }\n\n    const handleSubmit = (event) => {\n        event.preventDefault()\n        props.handleForm({name: name, number: number})\n    }\n\n    return (    \n    <form>\n        <div>\n            Name: <input value={name} onChange={handleNameChange} />\n        </div>\n        <div>\n            Number: <input value={number} onChange={handleNumberChange} />\n        </div>\n        <div>\n            <button type=\"submit\" onClick={handleSubmit}>Add</button>\n        </div>\n    </form>)\n}\n\nexport default PersonForm","import React, {useState} from 'react'\n\nconst Filter = (props) => {\n    const [ filter, setFilter ] = useState('')\n  \n    const handleTextChange = (event) => {\n      setFilter(event.target.value)\n      props.filterChangedHandler(event.target.value)\n    }\n\n    const styles = {\n        container: {\n            marginTop: 15,\n            marginBottom: 15,\n        }\n    }\n    \n    return (\n        <div style={styles.container}>\n            Filter: <input value={filter} onChange={handleTextChange} />\n        </div>\n    )\n}\n\nexport default Filter","import axios from 'axios';\n\nconst baseUrl = '/api/persons';\n\nconst waitForResponse = (req) => {\n    return req\n        .then(res => res.data);\n}\n\nconst getAll = () => {\n    return waitForResponse(axios.get(baseUrl));\n}\n\nconst getPerson = (id) => {\n    return waitForResponse(axios.get(`${baseUrl}/${id}`));\n}\n\nconst addPerson = (person) => {\n    return waitForResponse(axios.post(baseUrl, person));\n}\n\nconst updatePerson = (person) => {\n    return waitForResponse(axios.put(`${baseUrl}/${person.id}`, person))\n}\n\nconst deletePerson = (person) => {\n    return waitForResponse(axios.delete(`${baseUrl}/${person.id}`));\n}\n\nexport default { getAll, getPerson, addPerson, updatePerson, deletePerson };","import React from 'react';\n\nconst Snackbar = (props) => {\n    const { label } = props;\n    if (!label) return null;\n    const { type } = props;\n    const containerColor = () => {\n        switch(type) {\n            case 'danger': return 'red';\n            case 'success': return 'green';\n            default: return'#555555';\n        }\n    };\n\n    const styles = {\n        container: {\n            backgroundColor: containerColor(),\n            marginTop: 10,\n            width: 400,\n            verticalAlign: 'center',\n        },\n        label: {\n            color: 'white',\n            lineHeight: 3,\n            paddingLeft: 10,\n        }\n    }\n\n    console.log(\"message\", label, type);\n    return (\n        <div style={styles.container}>\n            <label style={styles.label}>{label}</label>\n        </div>\n    );\n}\n\nexport default Snackbar;","import React, { useState, useEffect } from 'react'\nimport { Entries } from './components/Entry'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport Persons from './services/persons';\nimport Snackbar from './components/Snackbar';\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n  const [ filter, setFilter ] = useState('')\n  const [ message, setMessage ] = useState({});\n\n  useEffect(() => {\n    Persons.getAll()\n      .then(data => {\n        console.log(\"rendering\", data);\n        setPersons(data);\n      });\n  }, []);\n\n  const displayMessage = (text, type) => {\n    console.log('message', {text, type});\n    setMessage({text, type});\n    setTimeout(() => setMessage({}), 5000);\n  }\n\n  const addPerson = (newPerson) => {\n    const foundPerson = persons.find(person => person.name === newPerson.name);\n    if (foundPerson) {\n      \n      const confirmation = window.confirm(\n        `${newPerson.name} already found in the phonebook. Change number to ${newPerson.number}?`);\n\n      if (confirmation) {\n        const updatedPerson = {...foundPerson, number: newPerson.number}\n        Persons.updatePerson(updatedPerson)\n          .then(setPersons(persons.map(person => person.id !== updatedPerson.id ? person : updatedPerson)))\n          .catch(error => {\n            console.log(\"error updating person\", error);\n            displayMessage(error.message, 'danger');\n            setPersons(persons.filter(person => person.id !== updatedPerson.id));\n          });\n      }\n    \n    } else {\n      Persons.addPerson(newPerson).then(data => {\n        console.log(\"person added\", data);\n        displayMessage(`Person ${newPerson.name} added.`, 'success');\n        setPersons(persons.concat(data));\n      });\n    }\n  }\n\n  const deletePerson = (person) => {\n    const confirmation = window.confirm(`Are you sure you want to delete entry\\n${person.name}`);\n    console.log(`delete person ${person} confirmation`, confirmation);\n    if (confirmation) {\n      Persons.deletePerson(person)\n      .then(data => {\n          console.log(\"person deleted\", person);\n          setPersons(persons.filter(p => p.id !== person.id));\n      });\n    } else console.log(\"person not deleted\", person);\n  }\n\n  const handleFilterChanged = (newFilter) => setFilter(newFilter)\n\n  const styles = {\n    container: {\n      marginLeft: 25,\n    }\n  }\n\n  return (\n    <div style={styles.container}>\n      <h2>Phonebook</h2>\n      <PersonForm handleForm={addPerson} />\n      <h2>Numbers</h2>\n      <Filter filterChangedHandler={handleFilterChanged}/>\n      <Entries persons={persons} filter={filter} onDelete={deletePerson} />\n      <Snackbar label={message.text} type={message.type}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}